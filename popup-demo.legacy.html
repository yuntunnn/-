<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIåº”ç”¨æ¨å¹¿å¼¹çª— - äº¤äº’Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #e8f4f8 0%, #d1e8f0 100%);
            min-height: 100vh;
            overflow: hidden;
        }

        /* æ¨¡æ‹Ÿæ¡Œé¢èƒŒæ™¯ */
        .desktop {
            width: 100vw;
            height: 100vh;
            position: relative;
            background: linear-gradient(180deg, #87CEEB 0%, #E0F6FF 100%);
        }

        /* æ¡Œé¢å›¾æ ‡ */
        .desktop-icons {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .desktop-icon {
            width: 80px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .desktop-icon:hover {
            transform: scale(1.1);
        }

        .desktop-icon .icon-img {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin: 0 auto;
        }

        .desktop-icon span {
            display: block;
            color: #333;
            font-size: 12px;
            margin-top: 4px;
            text-shadow: 0 1px 2px rgba(255,255,255,0.8);
        }

        /* ä»»åŠ¡æ  */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: rgba(240, 240, 245, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 16px;
            border-top: 1px solid rgba(0,0,0,0.1);
            z-index: 50;
        }

        .taskbar-center {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .taskbar-icon {
            width: 40px;
            height: 40px;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .taskbar-icon:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .taskbar-right {
            position: absolute;
            right: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 12px;
            color: #333;
        }

        .taskbar-time {
            text-align: right;
        }

        .taskbar-time .time {
            font-size: 13px;
            font-weight: 500;
        }

        .taskbar-time .date {
            font-size: 11px;
            color: #666;
        }

        /* æ§åˆ¶é¢æ¿ */
        .control-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            z-index: 1000;
            width: 280px;
        }

        .control-panel h3 {
            font-size: 15px;
            color: #333;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .control-panel h3::before {
            content: 'âš™ï¸';
        }

        .control-group {
            margin-bottom: 14px;
        }

        .control-group label {
            display: block;
            font-size: 12px;
            color: #666;
            margin-bottom: 6px;
        }

        .control-group select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 13px;
            outline: none;
            transition: border-color 0.2s;
            background: white;
        }

        .control-group select:focus {
            border-color: #667eea;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
            margin-top: 8px;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .status-bar {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            margin-top: 14px;
            font-size: 11px;
            color: #666;
        }

        .status-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
        }

        .status-item:last-child {
            margin-bottom: 0;
        }

        .status-value {
            color: #333;
            font-weight: 500;
        }

        /* ==================== æ ·å¼ä¸€ï¼šå³ä¸‹è§’æ¨å¹¿å¼¹çª— ==================== */
        .popup-container {
            position: fixed;
            bottom: 60px;
            right: 20px;
            z-index: 200;
            transform-origin: bottom right;
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            opacity: 0;
            visibility: hidden;
            transform: scale(0.8) translateY(20px);
        }

        .popup-container.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1) translateY(0);
        }

        .popup-container:hover {
            transform: scale(1.08);
        }

        .popup-card {
            width: 420px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }

        .popup-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            background: white;
            border-bottom: 1px solid #f0f0f0;
        }

        .popup-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }

        .popup-title-icon {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #FF9500 0%, #FF5E00 100%);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .popup-actions {
            display: flex;
            gap: 8px;
        }

        .popup-action-btn {
            width: 24px;
            height: 24px;
            border: none;
            background: #f5f5f5;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #666;
            transition: all 0.2s;
        }

        .popup-action-btn:hover {
            background: #e8e8e8;
            color: #333;
        }

        .popup-action-btn.close:hover {
            background: #ff5f57;
            color: white;
        }

        .popup-content {
            display: flex;
            padding: 20px;
            gap: 20px;
        }

        .popup-left {
            flex: 1;
        }

        .feature-tags {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .feature-tag {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 6px 12px;
            background: #f5f7fa;
            border: 1px solid #e8edf2;
            border-radius: 20px;
            font-size: 12px;
            color: #333;
            cursor: pointer;
            transition: all 0.2s;
        }

        .feature-tag:hover {
            background: #eef1f5;
            border-color: #d0d7e0;
        }

        .feature-tag .tag-icon {
            font-size: 14px;
        }

        .ai-search-box {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 24px;
            color: white;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .ai-search-box:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .ai-search-box .search-icon {
            font-size: 16px;
        }

        .popup-right {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0 10px;
        }

        .brand-logo {
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #00B4FF 0%, #0095FF 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            box-shadow: 0 4px 15px rgba(0, 180, 255, 0.3);
        }

        .brand-logo svg {
            width: 32px;
            height: 32px;
            fill: white;
        }

        .brand-name {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }

        .brand-slogan {
            font-size: 13px;
            color: #00B4FF;
            font-weight: 500;
            margin-bottom: 4px;
        }

        .brand-desc {
            font-size: 11px;
            color: #999;
        }

        .popup-footer {
            padding: 0 20px 20px;
        }

        .cta-button {
            width: 100%;
            padding: 14px 24px;
            background: linear-gradient(135deg, #a78bfa 0%, #818cf8 50%, #6366f1 100%);
            border: none;
            border-radius: 24px;
            color: white;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .cta-button:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        .cta-button .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
            width: 0%;
            transition: width 0.3s;
            border-radius: 24px;
        }

        .cta-button .btn-text {
            position: relative;
            z-index: 1;
        }

        .qq-theme .brand-logo {
            background: linear-gradient(135deg, #12B7F5 0%, #0099FF 100%);
        }

        .qq-theme .brand-slogan {
            color: #12B7F5;
        }

        .quark-theme .brand-logo {
            background: linear-gradient(135deg, #00B4FF 0%, #0095FF 100%);
        }

        /* ==================== æ ·å¼äºŒï¼šè´´æ¡ + è‹±é›„å¡ç‰‡ ==================== */
        
        /* è´´æ¡å®¹å™¨ */
        .strip-wrapper {
            position: fixed;
            bottom: 58px; /* è·ä»»åŠ¡æ é¡¶éƒ¨ 10px */
            left: 50%;
            transform: translateX(-50%);
            z-index: 200;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .strip-wrapper.active {
            opacity: 1;
            visibility: visible;
        }

        /* è´´æ¡ Promo Strip */
        .promo-strip {
            display: flex;
            align-items: center;
            gap: 20px;
            height: 56px;
            width: 940px;
            padding: 0 20px;
            background: rgba(26, 26, 46, 0.96);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
            backdrop-filter: blur(20px);
        }

        /* æ”¶ç›Šæ–‡æ¡ˆ */
        .strip-text {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            white-space: nowrap;
            flex-shrink: 0;
        }

        /* äº§å“æŒ‰é’®ç»„ */
        .strip-products {
            display: flex;
            gap: 12px;
            flex: 1;
            justify-content: center;
        }

        .product-btn {
            position: relative;
            padding: 10px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.25s;
            border: none;
            white-space: nowrap;
        }

        /* ä¸»æ¨æŒ‰é’®æ ·å¼ */
        .product-btn.primary {
            background: #3b82f6;
            color: white;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }

        .product-btn.primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5);
        }

        /* æ¬¡çº§æŒ‰é’®æ ·å¼ */
        .product-btn.secondary {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .product-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.18);
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* å…³é—­åŒºåŸŸ */
        .strip-close-area {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        /* è®¾ç½®æŒ‰é’® */
        .strip-settings-wrapper {
            position: relative;
        }

        .strip-settings {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.25s;
        }

        .strip-settings:hover {
            background: rgba(255, 255, 255, 0.15);
            color: rgba(255, 255, 255, 0.85);
        }

        .strip-settings.active {
            background: rgba(255, 255, 255, 0.18);
            color: white;
            transform: rotate(45deg);
        }

        /* è®¾ç½®å¼¹çª— */
        .settings-popover {
            position: absolute;
            bottom: calc(100% + 10px);
            right: 0;
            width: 180px;
            background: rgba(40, 40, 60, 0.98);
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
            padding: 8px 0;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 300;
        }

        .settings-popover::after {
            content: '';
            position: absolute;
            bottom: -6px;
            right: 12px;
            width: 0;
            height: 0;
            border-left: 7px solid transparent;
            border-right: 7px solid transparent;
            border-top: 7px solid rgba(40, 40, 60, 0.98);
        }

        .settings-popover.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .settings-title {
            padding: 8px 14px 10px;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.4);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .settings-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 14px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.85);
            cursor: pointer;
            transition: all 0.15s;
        }

        .settings-option:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .settings-option .option-icon {
            font-size: 14px;
            opacity: 0.7;
        }

        .strip-close {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .strip-close:hover {
            background: #ef4444;
            color: white;
        }

        /* ==================== è‹±é›„å¡ç‰‡ Hero Card ==================== */
        .hero-card {
            position: absolute;
            bottom: calc(100% + 12px);
            left: 50%;
            transform: translateX(-50%) translateY(15px);
            width: 560px;
            background: rgba(26, 26, 46, 0.98);
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .hero-card::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid rgba(26, 26, 46, 0.98);
        }

        .hero-card.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
            pointer-events: auto;
        }

        /* åŠ¨æ€è°ƒæ•´ç®­å¤´ä½ç½® */
        .hero-card[data-product="doubao"]::after {
            left: 30%;
        }
        .hero-card[data-product="yuanbao"]::after {
            left: 50%;
        }
        .hero-card[data-product="qianwen"]::after {
            left: 70%;
        }

        /* å¡ç‰‡å¤´éƒ¨ */
        .hero-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .hero-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .hero-logo {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .hero-logo.doubao {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a5a 100%);
        }

        .hero-logo.yuanbao {
            background: linear-gradient(135deg, #ffd93d 0%, #f0c929 100%);
        }

        .hero-logo.qianwen {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
        }

        .hero-title-group {
            display: flex;
            flex-direction: column;
        }

        .hero-title {
            font-size: 18px;
            font-weight: 600;
            color: white;
        }

        .hero-subtitle {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 2px;
        }

        .hero-close {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.08);
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .hero-close:hover {
            background: rgba(255, 255, 255, 0.15);
            color: white;
        }

        /* å¡ç‰‡å†…å®¹ */
        .hero-content {
            display: flex;
            padding: 20px 24px;
            gap: 24px;
        }

        /* åœºæ™¯æ¨¡å— */
        .hero-scenes {
            flex: 1;
        }

        .scene-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .scene-tab {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.06);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .scene-tab:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .scene-tab.active {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.4);
            color: #60a5fa;
        }

        .scene-content {
            display: none;
        }

        .scene-content.active {
            display: block;
        }

        .scene-list {
            list-style: none;
        }

        .scene-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .scene-item:last-child {
            border-bottom: none;
        }

        .scene-dot {
            width: 6px;
            height: 6px;
            background: #3b82f6;
            border-radius: 50%;
            margin-top: 6px;
            flex-shrink: 0;
        }

        .scene-text {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.5;
        }

        /* æ’ç”»åŒºåŸŸ */
        .hero-illustration {
            width: 180px;
            height: 160px;
            background: linear-gradient(135deg, #3b5998 0%, #4c70ba 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
            overflow: hidden;
        }

        .hero-illustration::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, transparent 60%);
        }

        .hero-illustration-text {
            font-size: 14px;
            color: white;
            font-weight: 500;
            position: relative;
            z-index: 1;
            text-align: center;
        }

        /* å¡ç‰‡åº•éƒ¨ */
        .hero-footer {
            padding: 16px 24px 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        .hero-cta-btn {
            width: 100%;
            padding: 14px 32px;
            background: #3b82f6;
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s;
        }

        .hero-cta-btn:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
        }

        .hero-cta-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }

        /* Toast æç¤º */
        .toast {
            position: fixed;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-size: 14px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(0);
        }

        /* åŸ‹ç‚¹äº‹ä»¶æ—¥å¿— */
        .event-log {
            position: fixed;
            bottom: 60px;
            left: 20px;
            width: 280px;
            max-height: 180px;
            background: rgba(0, 0, 0, 0.85);
            border-radius: 12px;
            padding: 14px;
            overflow-y: auto;
            z-index: 100;
            font-family: 'Monaco', 'Consolas', monospace;
        }

        .event-log h4 {
            color: #38ef7d;
            font-size: 11px;
            margin-bottom: 8px;
        }

        .event-log .log-item {
            font-size: 10px;
            color: #ccc;
            padding: 3px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .event-log .log-item:last-child {
            border-bottom: none;
        }

        .event-log .log-time {
            color: #666;
            margin-right: 6px;
        }

        .event-log .log-event {
            color: #f5576c;
        }

        /* æç¤ºæ–‡å­— */
        .hint-text {
            font-size: 11px;
            color: #888;
            margin-top: 10px;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- æ¨¡æ‹Ÿæ¡Œé¢ -->
    <div class="desktop">
        <!-- æ¡Œé¢å›¾æ ‡ -->
        <div class="desktop-icons">
            <div class="desktop-icon">
                <div class="icon-img">ğŸ“</div>
                <span>æ–‡ä»¶ç®¡ç†</span>
            </div>
            <div class="desktop-icon">
                <div class="icon-img">ğŸ›’</div>
                <span>åº”ç”¨å¸‚åœº</span>
            </div>
            <div class="desktop-icon">
                <div class="icon-img">âš™ï¸</div>
                <span>ç³»ç»Ÿè®¾ç½®</span>
            </div>
        </div>

        <!-- ä»»åŠ¡æ  (Windows 11 é£æ ¼å±…ä¸­) -->
        <div class="taskbar">
            <div class="taskbar-center">
                <div class="taskbar-icon">ğŸªŸ</div>
                <div class="taskbar-icon">ğŸ”</div>
                <div class="taskbar-icon">ğŸ“</div>
                <div class="taskbar-icon">ğŸŒ</div>
                <div class="taskbar-icon">ğŸ“§</div>
                <div class="taskbar-icon">ğŸµ</div>
            </div>
            <div class="taskbar-right">
                <span>ğŸ”Š</span>
                <span>ğŸŒ</span>
                <span>ä¸­</span>
                <div class="taskbar-time">
                    <div class="time" id="currentTime">19:33</div>
                    <div class="date" id="currentDate">2025/2/19</div>
                </div>
            </div>
        </div>
    </div>

    <!-- æ§åˆ¶é¢æ¿ -->
    <div class="control-panel">
        <h3>Demo æ§åˆ¶é¢æ¿</h3>
        
        <div class="control-group">
            <label>å¼¹çª—æ ·å¼</label>
            <select id="styleSelect">
                <option value="corner">æ ·å¼ä¸€ï¼šå³ä¸‹è§’å¡ç‰‡</option>
                <option value="strip">æ ·å¼äºŒï¼šè´´æ¡+è‹±é›„å¡ç‰‡</option>
            </select>
        </div>

        <div class="control-group" id="productSelectGroup">
            <label>é€‰æ‹©æ¨å¹¿äº§å“ï¼ˆæ ·å¼ä¸€ï¼‰</label>
            <select id="productSelect">
                <option value="quark">å¤¸å…‹æµè§ˆå™¨</option>
                <option value="qq">QQæµè§ˆå™¨</option>
            </select>
        </div>

        <button class="btn btn-primary" onclick="showPopup()">
            ğŸš€ å±•ç¤ºå¼¹çª—
        </button>
        
        <button class="btn btn-secondary" onclick="resetDemo()">
            ğŸ”„ é‡ç½®Demo
        </button>

        <div class="status-bar">
            <div class="status-item">
                <span>å¼¹çª—æ ·å¼ï¼š</span>
                <span class="status-value" id="styleStatus">å³ä¸‹è§’å¡ç‰‡</span>
            </div>
            <div class="status-item">
                <span>å¼¹çª—çŠ¶æ€ï¼š</span>
                <span class="status-value" id="popupStatus">æœªå±•ç¤º</span>
            </div>
            <div class="status-item">
                <span>äº‹ä»¶è®¡æ•°ï¼š</span>
                <span class="status-value" id="eventCount">0</span>
            </div>
        </div>

        <p class="hint-text">æ ·å¼äºŒï¼šhoveräº§å“æŒ‰é’®æŸ¥çœ‹è‹±é›„å¡ç‰‡</p>
    </div>

    <!-- ==================== æ ·å¼ä¸€ï¼šå³ä¸‹è§’æ¨å¹¿å¼¹çª— ==================== -->
    <div class="popup-container" id="popupContainer">
        <div class="popup-card" id="popupCard">
            <div class="popup-header">
                <div class="popup-title">
                    <div class="popup-title-icon">ğŸ“¦</div>
                    <span>ç²¾å“æ¨è</span>
                </div>
                <div class="popup-actions">
                    <button class="popup-action-btn" onclick="minimizePopup()">âˆ’</button>
                    <button class="popup-action-btn close" onclick="closePopup()">Ã—</button>
                </div>
            </div>
            <div class="popup-content">
                <div class="popup-left">
                    <div class="feature-tags">
                        <div class="feature-tag">
                            <span class="tag-icon">âœï¸</span>
                            <span>å†™ä½œ</span>
                        </div>
                        <div class="feature-tag">
                            <span class="tag-icon">ğŸ™</span>
                            <span>ç¿»è¯‘</span>
                        </div>
                        <div class="feature-tag">
                            <span class="tag-icon">ğŸ“‹</span>
                            <span>æ€»ç»“</span>
                        </div>
                    </div>
                    <div class="ai-search-box">
                        <span class="search-icon">âœ¨</span>
                        <span>AIæœç´¢ ä¸€æ¡†å›ç­”</span>
                    </div>
                </div>
                <div class="popup-right">
                    <div class="brand-logo" id="brandLogo">
                        <svg viewBox="0 0 24 24">
                            <circle cx="12" cy="12" r="10" fill="white" opacity="0.2"/>
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                        </svg>
                    </div>
                    <div class="brand-name" id="brandName">å¤¸å…‹</div>
                    <div class="brand-slogan" id="brandSlogan">æ‚¨çš„AIæœç´¢</div>
                    <div class="brand-desc" id="brandDesc">ç²¾å‡† é«˜æ•ˆï¼Œéšæ—¶å”¤èµ·</div>
                </div>
            </div>
            <div class="popup-footer">
                <button class="cta-button" id="ctaButton" onclick="startInstall()">
                    <div class="progress-bar" id="progressBar"></div>
                    <span class="btn-text" id="btnText">ç«‹å³ä½“éªŒ</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ==================== æ ·å¼äºŒï¼šè´´æ¡ + è‹±é›„å¡ç‰‡ ==================== -->
    <div class="strip-wrapper" id="stripWrapper">
        <!-- è‹±é›„å¡ç‰‡ -->
        <div class="hero-card" id="heroCard" data-product="doubao">
            <div class="hero-header">
                <div class="hero-brand">
                    <div class="hero-logo doubao" id="heroLogo">ğŸ¤–</div>
                    <div class="hero-title-group">
                        <div class="hero-title" id="heroTitle">è±†åŒ…</div>
                        <div class="hero-subtitle" id="heroSubtitle">åŠå…¬ & åˆ›ä½œ AI åŠ©æ‰‹</div>
                    </div>
                </div>
                <button class="hero-close" onclick="hideHeroCard()">Ã—</button>
            </div>

            <div class="hero-content">
                <div class="hero-scenes">
                    <div class="scene-tabs">
                        <div class="scene-tab active" data-scene="office">ğŸ’¼ åŠå…¬</div>
                        <div class="scene-tab" data-scene="study">ğŸ“š å­¦ä¹ </div>
                        <div class="scene-tab" data-scene="create">ğŸ¨ åˆ›ä½œ</div>
                    </div>

                    <div class="scene-content active" id="sceneOffice">
                        <ul class="scene-list">
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">ä¸€é”®ç”Ÿæˆå·¥ä½œæ±‡æŠ¥ã€å‘¨æŠ¥ã€æœˆæŠ¥</div>
                            </li>
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">æ™ºèƒ½æ’°å†™å•†åŠ¡é‚®ä»¶ã€ä¼šè®®çºªè¦</div>
                            </li>
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">Excel/PPT æ•°æ®åˆ†æä¸ä¼˜åŒ–å»ºè®®</div>
                            </li>
                        </ul>
                    </div>

                    <div class="scene-content" id="sceneStudy">
                        <ul class="scene-list">
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">é•¿æ–‡/PDF æ–‡æ¡£æ™ºèƒ½æ€»ç»“æ‘˜è¦</div>
                            </li>
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">æé—®å¼ç†è§£ï¼Œæ·±åº¦è§£è¯»å¤æ‚å†…å®¹</div>
                            </li>
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">å¤šè¯­è¨€ç¿»è¯‘ï¼Œå­¦æœ¯è®ºæ–‡è¾…åŠ©é˜…è¯»</div>
                            </li>
                        </ul>
                    </div>

                    <div class="scene-content" id="sceneCreate">
                        <ul class="scene-list">
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">è¥é”€æ–‡æ¡ˆã€ç¤¾åª’å†…å®¹ä¸€é”®ç”Ÿæˆ</div>
                            </li>
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">AI ç»˜å›¾ï¼Œå¿«é€Ÿç”Ÿæˆé…å›¾ç´ æ</div>
                            </li>
                            <li class="scene-item">
                                <div class="scene-dot"></div>
                                <div class="scene-text">è„‘æš´åˆ›æ„ã€æ•…äº‹ç»­å†™ã€é£æ ¼æ”¹å†™</div>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="hero-illustration" id="heroIllustration">
                    <div class="hero-illustration-text">
                        <div style="font-size: 32px; margin-bottom: 8px;">ğŸ¤–</div>
                        <div>äº§å“ç¤ºæ„å›¾</div>
                    </div>
                </div>
            </div>

            <div class="hero-footer">
                <button class="hero-cta-btn" id="heroCta" onclick="installFromHero()">å®‰è£…å¹¶å¯åŠ¨</button>
            </div>
        </div>

        <!-- è´´æ¡ Promo Strip -->
        <div class="promo-strip">
            <div class="strip-text">å‘ç°é€‚åˆæ‚¨çš„ AI åŠ©æ‰‹ï¼Œæå‡æ•ˆç‡ä»æ­¤åˆ»å¼€å§‹</div>
            
            <div class="strip-products">
                <button class="product-btn primary" 
                        data-product="doubao"
                        onmouseenter="showHeroCard('doubao')"
                        onclick="quickInstall('doubao')">
                    ä½“éªŒè±†åŒ…
                </button>
                <button class="product-btn secondary" 
                        data-product="yuanbao"
                        onmouseenter="showHeroCard('yuanbao')"
                        onclick="quickInstall('yuanbao')">
                    ä½“éªŒå…ƒå®
                </button>
                <button class="product-btn secondary" 
                        data-product="qianwen"
                        onmouseenter="showHeroCard('qianwen')"
                        onclick="quickInstall('qianwen')">
                    ä½“éªŒåƒé—®
                </button>
            </div>

            <div class="strip-close-area">
                <div class="strip-settings-wrapper">
                    <button class="strip-settings" id="settingsBtn" onclick="toggleSettings(event)">âš™</button>
                    <div class="settings-popover" id="settingsPopover">
                        <div class="settings-title">æé†’è®¾ç½®</div>
                        <div class="settings-option" onclick="dismissStrip('7days')">
                            <span class="option-icon">ğŸ“…</span>
                            <span>7å¤©ä¸å†æç¤º</span>
                        </div>
                        <div class="settings-option" onclick="dismissStrip('forever')">
                            <span class="option-icon">ğŸš«</span>
                            <span>ä¸å†æç¤º</span>
                        </div>
                    </div>
                </div>
                <button class="strip-close" onclick="closeStrip()">Ã—</button>
            </div>
        </div>
    </div>

    <!-- äº‹ä»¶æ—¥å¿— -->
    <div class="event-log" id="eventLog">
        <h4>ğŸ“Š åŸ‹ç‚¹äº‹ä»¶æ—¥å¿—</h4>
        <div id="logContent"></div>
    </div>

    <!-- Toastæç¤º -->
    <div class="toast" id="toast"></div>

    <script>
        // äº§å“é…ç½®
        const products = {
            quark: {
                name: 'å¤¸å…‹',
                slogan: 'æ‚¨çš„AIæœç´¢',
                desc: 'ç²¾å‡† é«˜æ•ˆï¼Œéšæ—¶å”¤èµ·',
                theme: 'quark-theme',
                app_id: 'quark',
                tpi: 'APP_MARKET_001'
            },
            qq: {
                name: 'QQæµè§ˆå™¨',
                slogan: 'æ‚¨çš„æ™ºèƒ½åŠ©æ‰‹',
                desc: 'å¿«é€Ÿ å®‰å…¨ï¼Œç•…äº«ç½‘ç»œ',
                theme: 'qq-theme',
                app_id: 'qqbrowser',
                tpi: 'APP_MARKET_002'
            }
        };

        // AI äº§å“é…ç½®ï¼ˆæ ·å¼äºŒï¼‰
        const aiProducts = {
            doubao: {
                name: 'è±†åŒ…',
                subtitle: 'åŠå…¬ & åˆ›ä½œ AI åŠ©æ‰‹',
                icon: 'ğŸ¤–',
                logoClass: 'doubao',
                app_id: 'doubao',
                tpi: 'STRIP_001',
                scenes: {
                    office: [
                        'ä¸€é”®ç”Ÿæˆå·¥ä½œæ±‡æŠ¥ã€å‘¨æŠ¥ã€æœˆæŠ¥',
                        'æ™ºèƒ½æ’°å†™å•†åŠ¡é‚®ä»¶ã€ä¼šè®®çºªè¦',
                        'Excel/PPT æ•°æ®åˆ†æä¸ä¼˜åŒ–å»ºè®®'
                    ],
                    study: [
                        'é•¿æ–‡/PDF æ–‡æ¡£æ™ºèƒ½æ€»ç»“æ‘˜è¦',
                        'æé—®å¼ç†è§£ï¼Œæ·±åº¦è§£è¯»å¤æ‚å†…å®¹',
                        'å¤šè¯­è¨€ç¿»è¯‘ï¼Œå­¦æœ¯è®ºæ–‡è¾…åŠ©é˜…è¯»'
                    ],
                    create: [
                        'è¥é”€æ–‡æ¡ˆã€ç¤¾åª’å†…å®¹ä¸€é”®ç”Ÿæˆ',
                        'AI ç»˜å›¾ï¼Œå¿«é€Ÿç”Ÿæˆé…å›¾ç´ æ',
                        'è„‘æš´åˆ›æ„ã€æ•…äº‹ç»­å†™ã€é£æ ¼æ”¹å†™'
                    ]
                }
            },
            yuanbao: {
                name: 'å…ƒå®',
                subtitle: 'è…¾è®¯å…¨èƒ½ AI åŠ©æ‰‹',
                icon: 'ğŸ’',
                logoClass: 'yuanbao',
                app_id: 'yuanbao',
                tpi: 'STRIP_002',
                scenes: {
                    office: [
                        'æ™ºèƒ½ä¼šè®®è®°å½•ä¸å¾…åŠæå–',
                        'å…¬æ–‡å†™ä½œã€åˆåŒå®¡æ ¸è¾…åŠ©',
                        'ä¼ä¸šå¾®ä¿¡/é’‰é’‰æ¶ˆæ¯æ™ºèƒ½å›å¤'
                    ],
                    study: [
                        'è¯¾ç¨‹ç¬”è®°æ•´ç†ä¸çŸ¥è¯†å›¾è°±',
                        'è®ºæ–‡æŸ¥é‡ä¸å‚è€ƒæ–‡çŒ®æ¨è',
                        'å¤–è¯­å­¦ä¹ ã€å£è¯­ç»ƒä¹ ä¼™ä¼´'
                    ],
                    create: [
                        'å°çº¢ä¹¦/å…¬ä¼—å·çˆ†æ¬¾æ–‡æ¡ˆ',
                        'çŸ­è§†é¢‘è„šæœ¬ä¸åˆ†é•œå»ºè®®',
                        'Logo/æµ·æŠ¥ AI è®¾è®¡ç”Ÿæˆ'
                    ]
                }
            },
            qianwen: {
                name: 'é€šä¹‰åƒé—®',
                subtitle: 'é˜¿é‡Œäº‘æ™ºèƒ½ AI å¤§æ¨¡å‹',
                icon: 'ğŸŒŸ',
                logoClass: 'qianwen',
                app_id: 'qianwen',
                tpi: 'STRIP_003',
                scenes: {
                    office: [
                        'ä»£ç ç¼–å†™ä¸ Debug åŠ©æ‰‹',
                        'æŠ€æœ¯æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ',
                        'API æ¥å£æ™ºèƒ½è°ƒè¯•'
                    ],
                    study: [
                        'ç¼–ç¨‹å­¦ä¹ è·¯å¾„è§„åˆ’',
                        'ç®—æ³•é¢˜è§£æä¸ä¼˜åŒ–',
                        'æŠ€æœ¯é¢è¯•æ¨¡æ‹Ÿè®­ç»ƒ'
                    ],
                    create: [
                        'äº§å“éœ€æ±‚æ–‡æ¡£æ’°å†™',
                        'æŠ€æœ¯åšå®¢å†…å®¹åˆ›ä½œ',
                        'å¼€æºé¡¹ç›® README ç”Ÿæˆ'
                    ]
                }
            }
        };

        let currentProduct = 'quark';
        let currentAIProduct = 'doubao';
        let currentStyle = 'corner';
        let eventCount = 0;
        let isDownloading = false;
        let heroCardTimeout = null;

        // æ›´æ–°æ—¶é—´
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            
            document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
            document.getElementById('currentDate').textContent = `${year}/${month}/${day}`;
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // è®°å½•åŸ‹ç‚¹äº‹ä»¶
        function logEvent(eventName, params = {}) {
            eventCount++;
            const time = new Date().toLocaleTimeString();
            const logContent = document.getElementById('logContent');
            const logItem = document.createElement('div');
            logItem.className = 'log-item';
            logItem.innerHTML = `
                <span class="log-time">${time}</span>
                <span class="log-event">${eventName}</span>
            `;
            logContent.insertBefore(logItem, logContent.firstChild);
            
            document.getElementById('eventCount').textContent = eventCount;
            
            console.log('ğŸ“Š åŸ‹ç‚¹äº‹ä»¶:', {
                event: eventName,
                params: params,
                timestamp: new Date().toISOString()
            });
        }

        // æ˜¾ç¤ºå¼¹çª—
        function showPopup() {
            currentStyle = document.getElementById('styleSelect').value;
            
            // å…ˆå…³é—­æ‰€æœ‰å¼¹çª—
            document.getElementById('popupContainer').classList.remove('active');
            document.getElementById('stripWrapper').classList.remove('active');
            hideHeroCard();

            if (currentStyle === 'corner') {
                document.getElementById('styleStatus').textContent = 'å³ä¸‹è§’å¡ç‰‡';
                currentProduct = document.getElementById('productSelect').value;
                showCornerPopup(products[currentProduct]);
            } else {
                document.getElementById('styleStatus').textContent = 'è´´æ¡+è‹±é›„å¡ç‰‡';
                showStripPopup();
            }

            document.getElementById('popupStatus').textContent = 'å·²å±•ç¤º';
        }

        // æ˜¾ç¤ºæ ·å¼ä¸€ï¼šå³ä¸‹è§’å¡ç‰‡
        function showCornerPopup(product) {
            document.getElementById('brandName').textContent = product.name;
            document.getElementById('brandSlogan').textContent = product.slogan;
            document.getElementById('brandDesc').textContent = product.desc;
            
            const popupCard = document.getElementById('popupCard');
            popupCard.className = 'popup-card';
            popupCard.classList.add(product.theme);

            document.getElementById('ctaButton').disabled = false;
            document.getElementById('btnText').textContent = 'ç«‹å³ä½“éªŒ';
            document.getElementById('progressBar').style.width = '0%';
            isDownloading = false;

            document.getElementById('popupContainer').classList.add('active');

            logEvent('promotion_show', {
                app_id: product.app_id,
                style: 'corner'
            });
        }

        // æ˜¾ç¤ºæ ·å¼äºŒï¼šè´´æ¡
        function showStripPopup() {
            document.getElementById('stripWrapper').classList.add('active');
            
            logEvent('strip_show', {
                products: ['doubao', 'yuanbao', 'qianwen']
            });
        }

        // æ˜¾ç¤ºè‹±é›„å¡ç‰‡
        function showHeroCard(productId) {
            // æ¸…é™¤ä¹‹å‰çš„å»¶è¿Ÿéšè—
            if (heroCardTimeout) {
                clearTimeout(heroCardTimeout);
                heroCardTimeout = null;
            }

            currentAIProduct = productId;
            const product = aiProducts[productId];
            const heroCard = document.getElementById('heroCard');

            // æ›´æ–°å¡ç‰‡å†…å®¹
            heroCard.dataset.product = productId;
            document.getElementById('heroTitle').textContent = product.name;
            document.getElementById('heroSubtitle').textContent = product.subtitle;
            document.getElementById('heroLogo').textContent = product.icon;
            document.getElementById('heroLogo').className = 'hero-logo ' + product.logoClass;

            // æ›´æ–°æ’ç”»
            document.querySelector('.hero-illustration-text').innerHTML = `
                <div style="font-size: 32px; margin-bottom: 8px;">${product.icon}</div>
                <div>${product.name} ç¤ºæ„å›¾</div>
            `;

            // æ›´æ–°åœºæ™¯å†…å®¹
            updateSceneContent(product);

            // é‡ç½® Tab åˆ°åŠå…¬
            document.querySelectorAll('.scene-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector('.scene-tab[data-scene="office"]').classList.add('active');
            document.querySelectorAll('.scene-content').forEach(c => c.classList.remove('active'));
            document.getElementById('sceneOffice').classList.add('active');

            // é‡ç½®æŒ‰é’®çŠ¶æ€
            document.getElementById('heroCta').textContent = 'å®‰è£…å¹¶å¯åŠ¨';
            document.getElementById('heroCta').disabled = false;

            // æ˜¾ç¤ºå¡ç‰‡
            heroCard.classList.add('show');

            logEvent('hero_card_show', {
                app_id: product.app_id,
                trigger: 'hover'
            });
        }

        // æ›´æ–°åœºæ™¯å†…å®¹
        function updateSceneContent(product) {
            const scenes = ['office', 'study', 'create'];
            const sceneIds = ['sceneOffice', 'sceneStudy', 'sceneCreate'];

            scenes.forEach((scene, index) => {
                const container = document.getElementById(sceneIds[index]);
                const list = container.querySelector('.scene-list');
                list.innerHTML = product.scenes[scene].map(text => `
                    <li class="scene-item">
                        <div class="scene-dot"></div>
                        <div class="scene-text">${text}</div>
                    </li>
                `).join('');
            });
        }

        // éšè—è‹±é›„å¡ç‰‡
        function hideHeroCard() {
            document.getElementById('heroCard').classList.remove('show');
        }

        // å»¶è¿Ÿéšè—è‹±é›„å¡ç‰‡ï¼ˆé¼ æ ‡ç§»å‡ºåï¼‰
        function scheduleHideHeroCard() {
            heroCardTimeout = setTimeout(() => {
                hideHeroCard();
            }, 1500); // 1.5ç§’åè‡ªåŠ¨æ”¶èµ·
        }

        // ä»è‹±é›„å¡ç‰‡å®‰è£…
        function installFromHero() {
            const product = aiProducts[currentAIProduct];
            const btn = document.getElementById('heroCta');

            logEvent('hero_install_click', {
                app_id: product.app_id,
                tpi: product.tpi
            });

            btn.textContent = 'ä¸‹è½½ä¸­...';
            btn.disabled = true;

            setTimeout(() => {
                btn.textContent = 'å®‰è£…ä¸­...';
                setTimeout(() => {
                    btn.textContent = 'âœ“ å·²å®‰è£…';
                    showToast(`ğŸ‰ ${product.name} å®‰è£…æˆåŠŸï¼`);
                    
                    logEvent('install_complete', {
                        app_id: product.app_id,
                        source: 'hero_card'
                    });
                }, 1000);
            }, 1500);
        }

        // ä»è´´æ¡å¿«é€Ÿå®‰è£…
        function quickInstall(productId) {
            const product = aiProducts[productId];
            
            logEvent('strip_install_click', {
                app_id: product.app_id,
                tpi: product.tpi
            });

            showToast(`æ­£åœ¨å®‰è£… ${product.name}...`);

            setTimeout(() => {
                showToast(`ğŸ‰ ${product.name} å®‰è£…æˆåŠŸï¼`);
                logEvent('install_complete', {
                    app_id: product.app_id,
                    source: 'strip'
                });
            }, 2000);
        }

        // å…³é—­è´´æ¡
        function closeStrip() {
            logEvent('strip_close', { reason: 'close_button' });
            document.getElementById('stripWrapper').classList.remove('active');
            hideHeroCard();
            document.getElementById('popupStatus').textContent = 'å·²å…³é—­';
            showToast('å·²å…³é—­æ¨è');
        }

        // åˆ‡æ¢è®¾ç½®å¼¹çª—
        function toggleSettings(event) {
            event.stopPropagation();
            const popover = document.getElementById('settingsPopover');
            const btn = document.getElementById('settingsBtn');
            
            if (popover.classList.contains('show')) {
                popover.classList.remove('show');
                btn.classList.remove('active');
            } else {
                popover.classList.add('show');
                btn.classList.add('active');
                logEvent('settings_open', {});
            }
        }

        // å…³é—­è®¾ç½®å¼¹çª—
        function closeSettings() {
            document.getElementById('settingsPopover').classList.remove('show');
            document.getElementById('settingsBtn').classList.remove('active');
        }

        // ä¸å†æç¤º
        function dismissStrip(type) {
            closeSettings();
            logEvent('strip_dismiss', { type: type });
            document.getElementById('stripWrapper').classList.remove('active');
            hideHeroCard();
            document.getElementById('popupStatus').textContent = 'å·²å…³é—­';
            
            if (type === '7days') {
                showToast('7å¤©å†…ä¸å†æç¤º');
            } else {
                showToast('å·²è®¾ç½®ä¸å†æç¤º');
            }
        }

        // å…³é—­æ ·å¼ä¸€å¼¹çª—
        function closePopup() {
            logEvent('promotion_close', {
                app_id: products[currentProduct].app_id,
                reason: 'close_button'
            });
            document.getElementById('popupContainer').classList.remove('active');
            document.getElementById('popupStatus').textContent = 'å·²å…³é—­';
            showToast('ç”¨æˆ·ä¸»åŠ¨å…³é—­å¼¹çª—');
        }

        function minimizePopup() {
            logEvent('promotion_close', {
                app_id: products[currentProduct].app_id,
                reason: 'minimize'
            });
            document.getElementById('popupContainer').classList.remove('active');
            document.getElementById('popupStatus').textContent = 'å·²æœ€å°åŒ–';
            showToast('å¼¹çª—å·²æœ€å°åŒ–');
        }

        // æ ·å¼ä¸€ï¼šå¼€å§‹å®‰è£…
        function startInstall() {
            if (isDownloading) return;
            isDownloading = true;

            const product = products[currentProduct];
            const btn = document.getElementById('ctaButton');
            const btnText = document.getElementById('btnText');
            const progressBar = document.getElementById('progressBar');

            btn.disabled = true;

            logEvent('promotion_click', {
                app_id: product.app_id,
                tpi: product.tpi
            });

            let progress = 0;
            const downloadInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(downloadInterval);

                    btnText.textContent = 'å®‰è£…ä¸­...';

                    setTimeout(() => {
                        logEvent('install_complete', {
                            app_id: product.app_id
                        });

                        btnText.textContent = 'âœ“ å®‰è£…å®Œæˆ';
                        progressBar.style.width = '100%';
                        showToast('ğŸ‰ å®‰è£…æˆåŠŸï¼');
                    }, 1500);
                }
                
                progressBar.style.width = progress + '%';
                btnText.textContent = `ä¸‹è½½ä¸­ ${Math.round(progress)}%`;
            }, 200);
        }

        // é‡ç½®Demo
        function resetDemo() {
            document.getElementById('popupContainer').classList.remove('active');
            document.getElementById('stripWrapper').classList.remove('active');
            hideHeroCard();
            document.getElementById('popupStatus').textContent = 'æœªå±•ç¤º';
            document.getElementById('logContent').innerHTML = '';
            
            // é‡ç½®æŒ‰é’®
            document.getElementById('btnText').textContent = 'ç«‹å³ä½“éªŒ';
            document.getElementById('ctaButton').disabled = false;
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('heroCta').textContent = 'å®‰è£…å¹¶å¯åŠ¨';
            document.getElementById('heroCta').disabled = false;
            
            eventCount = 0;
            document.getElementById('eventCount').textContent = '0';
            isDownloading = false;
            
            showToast('Demoå·²é‡ç½®');
        }

        // æ˜¾ç¤ºToast
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // åœºæ™¯ Tab åˆ‡æ¢
        document.querySelectorAll('.scene-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const scene = tab.dataset.scene;
                
                document.querySelectorAll('.scene-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                document.querySelectorAll('.scene-content').forEach(c => c.classList.remove('active'));
                document.getElementById('scene' + scene.charAt(0).toUpperCase() + scene.slice(1)).classList.add('active');

                logEvent('scene_tab_click', { scene: scene });
            });
        });

        // è‹±é›„å¡ç‰‡é¼ æ ‡ç¦»å¼€å»¶è¿Ÿéšè—
        document.getElementById('heroCard').addEventListener('mouseleave', () => {
            scheduleHideHeroCard();
        });

        document.getElementById('heroCard').addEventListener('mouseenter', () => {
            if (heroCardTimeout) {
                clearTimeout(heroCardTimeout);
                heroCardTimeout = null;
            }
        });

        // äº§å“æŒ‰é’®é¼ æ ‡ç¦»å¼€ä¹Ÿè§¦å‘å»¶è¿Ÿéšè—
        document.querySelectorAll('.product-btn').forEach(btn => {
            btn.addEventListener('mouseleave', () => {
                scheduleHideHeroCard();
            });
        });

        // ESC å…³é—­
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeSettings();
                if (document.getElementById('stripWrapper').classList.contains('active')) {
                    closeStrip();
                }
                if (document.getElementById('popupContainer').classList.contains('active')) {
                    closePopup();
                }
            }
        });

        // ç‚¹å‡»å¤–éƒ¨å…³é—­è®¾ç½®å¼¹çª—
        document.addEventListener('click', (e) => {
            const wrapper = document.querySelector('.strip-settings-wrapper');
            if (wrapper && !wrapper.contains(e.target)) {
                closeSettings();
            }
        });

        // æ§åˆ¶é¢æ¿ï¼šæ ·å¼åˆ‡æ¢æ—¶æ˜¾ç¤º/éšè—äº§å“é€‰æ‹©
        document.getElementById('styleSelect').addEventListener('change', (e) => {
            const productGroup = document.getElementById('productSelectGroup');
            if (e.target.value === 'corner') {
                productGroup.style.display = 'block';
                productGroup.querySelector('label').textContent = 'é€‰æ‹©æ¨å¹¿äº§å“ï¼ˆæ ·å¼ä¸€ï¼‰';
            } else {
                productGroup.style.display = 'none';
            }
        });

        // é¡µé¢åŠ è½½æç¤º
        document.addEventListener('DOMContentLoaded', () => {
            showToast('é€‰æ‹©æ ·å¼åç‚¹å‡»"å±•ç¤ºå¼¹çª—"');
        });
    </script>
</body>
</html>
